jobs:
- job: DockerJob
  timeoutInMinutes: 10
  pool:
    vmImage: 'ubuntu-16.04'
  steps:
  - task: Docker@2
    displayName: Building Docker Image
    inputs:
      command: 'buildAndPush'
      Dockerfile: 'Dockerfile'
      tags: |
        $(Build.BuildId)
        latest

- job: HerokuJob
  timeoutInMinutes: 10
  pool:
    vmImage: 'windows-latest'
  steps:
  - task: PushToHeroku@0
    displayName: PushToHeroku
    inputs:
      ApiKey: 'd0e26bf9-46d6-49bb-a3a0-aaab5063d904'
      AppName: 'gaminglads-frontend-user'
      PushRoot: ''